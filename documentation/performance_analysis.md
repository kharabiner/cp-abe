# CP-ABE와 기존 방식의 성능 분석

## 1. 단일 연산 성능 비교

CP-ABE는 페어링 기반 암호화 알고리즘을 사용하여 계산 복잡도가 높은 반면, 기존의 대칭키 암호화는 계산 복잡도가 낮습니다. 이로 인해 단일 암호화/복호화 연산에서는 기존 방식이 더 빠를 수 있습니다.

| 암호화 방식 | 암호화 시간 복잡도 | 복호화 시간 복잡도 | 키 크기 | 암호문 크기 |
|-------------|-------------------|-------------------|---------|------------|
| 기존 대칭키 | O(1) | O(1) | 작음 (128-256 비트) | 메시지 크기와 유사 |
| CP-ABE | O(속성 수) | O(정책 크기) | 큼 (속성 수에 비례) | 큼 (정책 크기에 비례) |

## 2. 확장성 측면에서의 성능

기존 방식의 가장 큰 문제점은 기기 수가 증가함에 따라 다음과 같은 비용이 선형적으로 증가한다는 것입니다:

1. **키 관리 복잡성**: O(n) - n은 기기 수
2. **암호화 비용**: O(n) - 각 기기마다 별도 암호화 필요
3. **대역폭 사용량**: O(n) - 각 기기에 개별 암호문 전송 필요
4. **기기 취소 비용**: O(n) - 한 기기가 탈취되거나 취소될 경우, 보안을 위해 다른 모든 기기의 키를 재발급해야 함. 그렇지 않으면 취소된 기기가 여전히 이전 키로 새 업데이트를 복호화할 수 있음

반면 CP-ABE는 다음과 같은 복잡성을 가집니다:

1. **키 관리 복잡성**: O(a) - a는 속성 수 (기기 수와 무관)
2. **암호화 비용**: O(1) - 한 번만 암호화하면 됨
3. **대역폭 사용량**: O(1) - 모든 기기에 동일한 암호문 전송
4. **기기 취소 비용**: O(1) - 블랙리스트에 기기 추가만으로 처리 가능. 취소된 기기는 ABE 구조상 새 콘텐츠를 복호화할 수 없음

## 3. 교차점(Cross-over Point) 분석

![교차점 분석](../experiment_results/crossover_analysis.png)

위 그래프는 기기 수 증가에 따른 암호화 시간을 보여줍니다. CP-ABE는 기기 수와 상관없이 거의 일정한 시간이 소요되는 반면, 기존 방식은 기기 수에 비례하여 시간이 증가합니다.

**교차점**: 약 500대의 기기가 있을 때 CP-ABE와 기존 방식의 성능이 비슷해지며, 그 이상에서는 CP-ABE가 더 효율적입니다.

## 4. CP-ABE가 불리해 보이는 이유와 실제 이점

실험에서 일부 측정(예: 단일 기기 키 생성 시간)에서 CP-ABE가 더 느리게 나타나는 것은 사실입니다. 이는 다음과 같은 이유 때문입니다:

1. **복잡한 수학적 연산**: 페어링 연산은 대칭키 암호화보다 계산량이 많음
2. **속성 기반 접근 제어의 오버헤드**: 속성을 처리하고 정책을 평가하는 데 추가 시간 필요
3. **크기가 큰 키와 암호문**: 대칭키보다 더 큰 크기의 키와 암호문 처리 필요

그러나 실제 대규모 IoT 환경(수천~수만 대)에서는 다음과 같은 이점으로 인해 CP-ABE가 훨씬 효율적입니다:

1. **확장성**: 기기 수에 관계없이 일정한 암호화/복호화 시간
2. **대역폭 효율성**: 동일한 암호문 배포로 99% 이상의 대역폭 절약 가능
3. **관리 효율성**: 개별 기기가 아닌 속성으로 접근 제어
4. **보안성**: 기기 손상 시에도 다른 기기에 영향 최소화
5. **유연성**: 복잡한 접근 제어 정책 지원

## 5. 결론

소규모 환경(수십~수백 대)에서는 기존 방식이 단순하고 빠를 수 있지만, 현실적인 대규모 IoT 환경에서는 CP-ABE의 확장성과 효율성이 훨씬 큰 이점을 제공합니다. 따라서 CP-ABE는 미래 지향적인 IoT 소프트웨어 업데이트 관리에 더 적합한 솔루션입니다.
